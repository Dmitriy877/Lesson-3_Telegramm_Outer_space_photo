# Публикация фотографий компаний NASA, EPIC, SPACEX в телеграмм канале с помощью бота.

TODO:

telegramm_post_bot_random.py Данный скрипт принимает в качетсве аргумента название картинки в директории images и публикует ее в телеграмм канале, если название файла не указано то публикует случайную картинку из директории images.

telegramm_post_bot_time.py Данный скрипт принимает в качесвте аргумента время через которе публиковать картинку из директории images (время указывать в часах), если время не указано публикует картинку раз в 4 часа, после публикаии всех картинок директории перемешивает картинки и начинает публикацию заново.

fetch_epic_images.py Данный скрипт принимает в качестве аргумента количество фотографий которые необходимо загрузить с сайта компании epic, если аргумент не указан скачивает 6 и кладет в директорию images, если директория не создана создает ее.

fetch_nasa_images.py Данный скрипт принимает в качестве аргумента количество фотографий которые необходимо загрузить с сайта компании nasa, если аргумент не указан скачивает 6 и кладет в директорию images, если директория не создана создает ее.

fetch_spacex_images.py Данный скрипт принимает в качестве аргумента id запуска и скачивает фотографии с него. Если аргумент не указан скачивает фотографии с последнего запуска. Если при запуске фотографии не делались выводит сообщение об этом.

save_picture.py Вспомогательный скрипт необходимый для работы других скриптов. Получает ссылку и скачивает фотографию.

file_resolution_script Вспомогательный скрипт необходимый для работы других скриптов. Определяет расширение файла по ссылке.

Для работы скрипта необходимо его запустить с ссылкой в качестве аргумента (Например: python telegramm_post_bot_random.py image1.jpg).

Скрипт содержит следующие переменные:

`token` - переменная которая хранит токен NASA_EPIC_API_KEY, ELEGRAMM_API_KEY импортированный из .env файла (Необходимы для работы скриптов);
`chat_id` - переменная которая хранит chat id канала
`directory_epic, directory_nasa, directory_spacex` хранят название папку в которую сохраняют фотографии (по умолчанию image).
`filename_epic, filename_nasa, filename_spacex` хранят название файла которе будет присваивать скрипт при скачивании фотографий.

### Как установить

Python3 должен быть установлен.
Затем используйте "pip" (или "pip3", есть конфлик с python2) для устанвки зависимостей:

```pip install -r requerements.txt```

Перед запуском необходимо создать .env файл где разместить токен NASA_EPIC_API_KEY, ELEGRAMM_API_KEY в созданных переменных `NASA_EPIC_API_KEY, TELEGRAMM_API_KEY`.

Рекомендуется использовать [vitrualenv/venv](https://docs.python.org/3/library/venv.html) для изоляции проекта.

### Как запустить

Для запуска скриптов убедитесь что вложили в папку с скриптом файл .env с переменными `NASA_EPIC_API_KEY, ELEGRAMM_API_KEY` и передали в данную переменную соответсвующие токены, а также указали chat id бота в скриптах telegramm_post_bot_random.py, telegramm_post_bot_time.py.

Например (для скрипта telegramm_post_bot_random.py)
* Откройте консоль
* Перейдите в консоли в папку с скриптом
* введите в консоль команду запуска скрипта с ссылкой в качестве аргумента, например `python telegramm_post_bot_random.py image1.jpg`
* Произойдет публикация в канал указанной картинки от имени бота


### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/)